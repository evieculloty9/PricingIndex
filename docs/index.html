<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Forward Compute Index</title>
<link rel="icon" href="data:,">
<style>
:root{--bg:#0f1216;--panel:#171b21;--muted:#202532;--text:#e7edf3;--sub:#9fb0c3;--accent:#7bd7ff;--ok:#27d980;}
body{margin:0;background:var(--bg);color:var(--text);font:15px/1.45 system-ui,sans-serif;padding:2rem;}
h1{margin:0 0 .3rem;font-size:2rem;} select,input,button{background:var(--muted);color:var(--text);
border:1px solid #2c3240;border-radius:6px;padding:.4rem .6rem;font:inherit;}
button{cursor:pointer;background:var(--accent);color:#000;font-weight:600;}
.card{background:var(--panel);padding:1rem 1.5rem;border-radius:12px;margin-top:1.2rem;}
.flex{display:flex;flex-wrap:wrap;gap:.6rem;align-items:center;}
.big{font-size:4rem;font-weight:700;color:var(--accent);}
.sub{color:var(--sub);}
footer{margin-top:2rem;color:var(--sub);font-size:.9rem;}
</style>
</head>
<body>
<h1>Forward Compute Index</h1>
<p class="sub">Real-time regional and category GPU pricing benchmark</p>

<div class="flex">
  <label>Region</label>
  <select id="region">
    <option>US-East</option><option>US-Central</option><option>US-West</option><option>US (All)</option>
  </select>
  <label>Category</label>
  <select id="category">
    <option>All</option>
    <option>Big 3 Hyperscalers</option>
    <option>Major GPU Clouds</option>
    <option>Serverless</option>
    <option>Specialized</option>
  </select>
  <button onclick="update()">Update</button>
</div>

<div class="card" style="text-align:center">
  <div class="big" id="indexValue">–</div>
  <div style="color:var(--ok);margin-top:.2rem">● Live</div>
  <div class="sub" id="updated">Updated: –</div>
</div>

<div class="card">
  <h2>Total Cost Calculator</h2>
  <div class="flex">
    <input id="price" type="number" step="0.01" placeholder="Price $/GPU-hr">
    <input id="count" type="number" step="1" value="8" placeholder="GPU count">
    <input id="hours" type="number" step="0.5" value="1" placeholder="Hours">
    <button onclick="calcCost()">Calculate</button>
  </div>
  <p id="costResult" class="sub">Total cost: –</p>
</div>

<div class="card">
  <h2>ROI Estimator</h2>
  <div class="flex">
    <input id="revenue" type="number" step="0.01" placeholder="Revenue $/GPU-hr">
    <input id="util" type="number" step="0.01" value="0.7" placeholder="Utilisation 0–1">
    <button onclick="calcROI()">Estimate ROI</button>
  </div>
  <p id="roiResult" class="sub">ROI: –</p>
</div>

<footer>Data source: <code>hcpi/hcpi_dashboard.json</code></footer>

<script>
async function update(){
  const regionSel=document.getElementById('region').value;
  const catSel=document.getElementById('category').value;
  const res=await fetch('hcpi/hcpi_dashboard.json');
  const data=await res.json();
  let val;
  if(catSel!=='All'){val=data.categories[catSel]??null;}
  else if(regionSel==='US (All)'){val=data.us_index;}
  else{val=data.regions[regionSel]??null;}
  const el=document.getElementById('indexValue');
  if(!val){el.textContent='–';return;}
  el.textContent=`$${val.toFixed(2)}`;
  document.getElementById('updated').textContent='Updated: '+data.timestamp;
}
function calcCost(){
  const p=parseFloat(price.value)||0,c=parseFloat(count.value)||0,h=parseFloat(hours.value)||0;
  const t=p*c*h;
  costResult.textContent=`Total cost: $${t.toFixed(2)} for ${c} GPU × ${h} hr × $${p}/hr`;
}
function calcROI(){
  const p=parseFloat(price.value)||0,r=parseFloat(revenue.value)||0,u=parseFloat(util.value)||0;
  if(!p||!r){roiResult.textContent='Enter price and revenue';return;}
  const roi=((r*u-p)/p)*100;
  roiResult.textContent=`ROI: ${roi.toFixed(1)} % at ${(u*100).toFixed(0)} % utilisation`;
}
update();
</script>
</body>
</html>


